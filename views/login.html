<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="keywords" content="Bootstrap, Landing page, Template, Registration, Landing">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="Grayrids">
    <title>GestGenSuite Portal</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="loginAssets/css/bootstrap.min.css">
    <link rel="stylesheet" href="loginAssets/css/line-icons.css">
    <link rel="stylesheet" href="loginAssets/css/owl.carousel.css">
    <link rel="stylesheet" href="loginAssets/css/owl.theme.css">
    <link rel="stylesheet" href="loginAssets/css/animate.css">
    <link rel="stylesheet" href="loginAssets/css/magnific-popup.css">
    <link rel="stylesheet" href="loginAssets/css/nivo-lightbox.css">
    <link rel="stylesheet" href="loginAssets/css/main.css">
    <link rel="stylesheet" href="loginAssets/css/responsive.css">

</head>

<body>

<!-- Header Section Start -->
<header id="home" class="hero-area-2">
    <div class="overlay"></div>
    <div class="container">
        <div class="row space-100">
            <div class="col-lg-7 col-md-12 col-xs-12">
                <div class="contents">
                    <h2 class="head-title">Mobile Application <br> GestGenSuite</h2>
                    <p>Per tenere sotto controllo tutte le operazioni e per ridurre al minimo la probabilità d’errore.
                        GesGenSuite permette di registrare la prima nota e anche di memorizzare alcuni dettagli che ci
                        consentono di controllare meglio i movimenti.</p>
                    <div class="header-button">
                        <a href="https://play.google.com/store/apps/details?id=com.ak12srl.gestgensuite"
                           class="btn btn-border-filled">Scarica da PlayStore</a>
                        <a href="https://itunes.apple.com/us/app/gestgensuite/id1436843550"
                           class="btn btn-border-filled">Scarica da AppStore</a>
                        <a class="btn btn-border" data-toggle="modal" data-target="#myModal12">Entra!</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-5 col-md-12 col-xs-12">
                <div class="intro-img">
                    <video controls responsive
                           preload
                           src="/media/intro.mp4"
                           width="600"
                           height="400">
                        Spiacenti, il tuo browser non supporta i video incorporati.
                    </video>
                </div>
            </div>
        </div>
    </div>
</header>

<div id="app-features" class="section">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-md-12 col-xs-12">
                <div class="content-right text-left">
                    <div class="box-item right">
                <span class="icon">
                  <i class="lni-shield"></i>
                </span>
                        <div class="text">
                            <h4>Sicurezza</h4>
                            <p>Per tenere sotto controllo tutte le operazioni e per ridurre al minimo la probabilità
                                d’errore. GesGenSuite permette di registrare la prima nota e anche di memorizzare alcuni
                                dettagli che ci consentono di controllare meglio i movimenti.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-12 col-xs-12">
                <div class="content-right text-left">
                    <div class="box-item right">
                <span class="icon">
                  <i class="lni-star-filled"></i>
                </span>
                        <div class="text">
                            <h4>Fantastici Dettagli</h4>
                            <p>Permette di associare un contatto ad ogni movimento, di registrare i movimenti divisi per
                                risorsa (cassa, banca, carta di credito, etc) e di categorizzare i pagamenti.</p>
                        </div>
                    </div>
                    <div class="box-item right">
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-12 col-xs-12">
                <div class="content-right text-left">
                    <div class="box-item right">
                <span class="icon">
                  <i class="lni-cup"></i>
                </span>
                        <div class="text">
                            <h4>Semplicità</h4>
                            <p>l’incasso di un corrispettivo relativo all’emissione di una ricevuta o di una fattura; il
                                pagamento e/o la ricevuta di una fattura di acquisto; il pagamento di un costo come ad
                                esempio, bolli, affitti... Con GesGenSuite lo poi fare direttamente dal tuo
                                SmartPhone.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- features Section End -->

        <!-- Go To Top Link -->
        <a href="#" class="back-to-top">
            <i class="lni-chevron-up"></i>
        </a>

        <!-- Preloader -->
        <div id="preloader">
            <div class="loader" id="loader-1"></div>
        </div>
        <!-- End Preloader -->

        <!-- jQuery first, then Tether, then Bootstrap JS. -->
        <script src="loginAssets/js/jquery-min.js"></script>
        <script src="loginAssets/js/popper.min.js"></script>
        <script src="loginAssets/js/bootstrap.min.js"></script>
        <script src="loginAssets/js/owl.carousel.js"></script>
        <script src="loginAssets/js/jquery.mixitup.js"></script>
        <script src="loginAssets/js/jquery.nav.js"></script>
        <script src="loginAssets/js/scrolling-nav.js"></script>
        <script src="loginAssets/js/jquery.easing.min.js"></script>
        <script src="loginAssets/js/wow.js"></script>
        <script src="loginAssets/js/jquery.counterup.min.js"></script>
        <script src="loginAssets/js/nivo-lightbox.js"></script>
        <script src="loginAssets/js/jquery.magnific-popup.min.js"></script>
        <script src="loginAssets/js/waypoints.min.js"></script>
        <script src="loginAssets/js/form-validator.min.js"></script>
        <script src="loginAssets/js/contact-form-script.js"></script>
        <script src="loginAssets/js/main.js"></script>

        <div class="modal fade" id="myModal1">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <!-- dialog body-->
                    <div class="modal-body">
                        <button class="close" type="button" data-dismiss="modal">×</button>
                        <h3>Impossibile Accedere Utente non Autorizzato!</h3>
                    </div>
                    <!-- dialog buttons-->
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="myModal12">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <!-- dialog body-->
                    <div class="modal-body">
                        <button class="close" type="button" data-dismiss="modal">×</button>
                        <!-- Header Section End -->
                        <div class="section-header">
                            <p class="btn btn-subtitle wow fadeInDown" data-wow-delay="0.2s">Autenticazione</p>
                            <h2 class="section-title wow fadeIn" data-wow-delay="0.2s">GestGenSuite Portal</h2>
                        </div>
                        <br>
                        <br>
                        <div class="row">
                            <div class="col-lg-4 col-md-12 col-xs-12">
                            </div>
                            <div class="col-lg-4 col-md-12 col-xs-12">
                                <div class="show-box">
                                    <div class="contact-form">
                                        <div class="container">
                                            <div class="row justify-content-center">
                                                <div class="offset-top">
                                                    <div class="col-lg-12 col-md-12 col-xs-12">
                                                        <div class="contact-block wow fadeInUp" data-wow-delay="0.2s">
                                                            <form id="contactForm">
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <div class="form-group">
                                                                            <input type="text" class="form-control" id="username" name="name"
                                                                                   placeholder="Username" required
                                                                                   data-error="Please enter your name">
                                                                            <div class="help-block with-errors"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-12">
                                                                        <div class="form-group">
                                                                            <input type="password" placeholder="Password" id="password"
                                                                                   class="form-control" name="name" required
                                                                                   data-error="Please enter your email">
                                                                            <div class="help-block with-errors"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-12">
                                                                        <div class="submit-button">
                                                                            <button class="btn btn-common btn-effect" id="submit" type="submit">
                                                                                Login
                                                                            </button>
                                                                            <div id="msgSubmit" class="h3 hidden"></div>
                                                                            <div class="clearfix"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- features Section Start -->
                    </div>
                    <!-- dialog buttons-->
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script>
    let datiLogin = {
        'username': undefined,
        'password': undefined
    };

    $('#contactForm').on("submit", function () {

        datiLogin.username = $('#username').val();
        datiLogin.password = $('#password').val();

        $.ajax({
            url: '/loginWeb',
            type: 'POST',
            data: JSON.stringify(datiLogin),
            cache: false,
            contentType: 'application/json',
            success: function (data) {

                if (data.errore === true) {
                    $("#myModal1").on("show", function () {
                        $("#myModal1 a.btn").on("click", function (e) {
                            console.log("button pressed");
                            $("#myModal1").modal('hide');
                        });
                    });
                    $("#myModal1").on("hide", function () {
                        $("#myModal1 a.btn").off("click");
                    });

                    $("#myModal1").on("hidden", function () {
                        $("#myModal1").remove();
                    });

                    $("#myModal1").modal({
                        "backdrop": "static",
                        "keyboard": true,
                        "show": true
                    });
                } else if (data.errore === false) {

                    $.ajax({
                        url: '/',
                        type: 'POST',
                        data: JSON.stringify({userAuthenticated: true, user: data.id}),
                        cache: false,
                        contentType: 'application/json',
                        success: function (data) {

                            window.location.replace('/dashboard');

                        },
                        faliure: function (data) {

                        }
                    });

                }

            },
            faliure: function (data) {

            }
        });

        return false;
    })
</script>
</html>